{
  "specName": "TrialIdSection.feature",
  "title": "User enters trial id and searches",
  "suiteName": "Advanced Clinical Trials Search Trial ID Section",
  "testName": "Advanced Clinical Trials Search Trial ID Section User enters trial id and searches",
  "testError": "Cypress detected that you returned a promise from a command while also invoking one or more cy commands in that promise.\n\nThe command that returned the promise was:\n\n  > `cy.get()`\n\nThe cy command you invoked inside the promise was:\n\n  > `cy.get()`\n\nBecause Cypress commands are already promise-like, you don't need to wrap them or return your own promise.\n\nCypress will resolve your command with whatever the final Cypress command yields.\n\nThe reason this is an error instead of a warning is because Cypress internally queues commands serially whereas Promises execute as soon as they are invoked. Attempting to reconcile this would prevent Cypress from ever resolving.",
  "testCommands": [
    "step **the user navigates to \"/about-cancer/treatment/clinical-trials/search/advanced\"**",
    "visit /about-cancer/treatment/clinical-trials/search/advanced",
    "xhr  GET http://192.168.1.155:3000/sockjs-node/info?t=1634575539076",
    "xhr  GET http://localhost:3000/sockjs-node/info?t=1634575539087",
    "step **the page title is \"Find NCI-Supported Clinical Trials\"**",
    "get h1",
    "assert expected **<h1>** to contain **Find NCI-Supported Clinical Trials**",
    "step **\"Trial ID\" form section is displayed**",
    "get legend",
    "contains Trial ID",
    "assert expected **<span>** to be **visible**",
    "step **user types \"NCI-2018-02825\" in \"TrialID\" field**",
    "get input#trialId",
    "type NCI-2018-02825",
    "step **user clicks on \"Find Trials\" button**",
    "get button",
    "contains Find Trials",
    "click ",
    "new url http://localhost:3000/about-cancer/treatment/clinical-trials/search/r",
    "new url http://localhost:3000/about-cancer/treatment/clinical-trials/search/r?loc=0&rl=2&tid=NCI-2018-02825",
    "xhr  POST http://localhost:3000/v1/clinical-trials",
    "step **the search is executed and results page is displayed**",
    "location pathname",
    "assert expected **/about-cancer/treatment/clinical-trials/search/r** to include **search/r**",
    "get h1",
    "assert expected **<h1>** to have text **Clinical Trials Search Results**",
    "get div[class=\"results-list\"]",
    "assert expected **<div.results-list>** to be **visible**",
    "step **trial info displays \"Results 1-1  of 1 for your search \"**",
    "get .all-trials",
    "assert expected **'<div.all-trials>'** to have text **'Results 1-1  of 1 for your search&nbsp;'**",
    "step **the criteria table displays the following**",
    "get tbody tr th",
    "assert expected **<th>** to have text **Trial ID**",
    "get tbody tr td",
    "assert expected **<td>** to have text **NCI-2018-02826**, but the text was **NCI-2018-02825**"
  ]
}
